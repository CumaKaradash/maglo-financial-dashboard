import { WalletCard } from "@/types/dashboard"

interface WalletCardsProps {
  cards: WalletCard[]
}

export function WalletCards({ cards }: WalletCardsProps) {
  const displayCard = cards.find(card => card.isDefault) || cards[0]

  return (
    <div className="rounded-xl border border-[#e5e7eb] bg-[#F5F5F5] p-6">
      <div className="mb-4 flex items-center justify-between">
        <h2 className="text-lg font-semibold text-[#1B212D]">Wallet</h2>
        <button className="text-[#929EAE]">
          <svg width="20" height="22" viewBox="0 0 20 22" fill="none">
            <circle cx="3.5" cy="11" r="1.833" fill="#929EAE" />
            <circle cx="10" cy="11" r="1.833" fill="#929EAE" />
            <circle cx="16.5" cy="11" r="1.833" fill="#929EAE" />
          </svg>
        </button>
      </div>

      {displayCard && (
        <div className="relative h-[280px]">
          {/* Dark Card - Top/Back */}
          <div
            className="absolute top-0 left-0 right-0 z-10 rounded-2xl overflow-hidden h-[180px]"
            style={{
              background: displayCard.color || "linear-gradient(104.3deg, #4A4A49 2.66%, #20201F 90.57%)",
            }}
          >
            <div className="p-5 h-full flex flex-col">
              {/* Top row - Bank name */}
              <div className="flex items-center gap-2 text-sm">
                <span className="font-medium text-white">{displayCard.name}</span>
                <span className="text-white/50">|</span>
                <span className="text-[#626260]">{displayCard.bank}</span>
              </div>

              {/* Middle row - Chip and NFC */}
              <div className="flex items-center justify-between mt-4">
                {/* Chip Icon - Silver/Gray */}
                <div className="w-[50px] h-[38px] rounded-md bg-[#B2AEA9] flex items-center justify-center">
                  <svg width="38" height="30" viewBox="0 0 38 30" fill="none">
                    <path
                      d="M14.6567 25.974C14.4933 25.974 14.3417 25.893 14.26 25.741C14.1433 25.531 14.2366 25.262 14.4467 25.146C15.0768 24.819 15.9403 24.201 16.4303 23.15C17.0604 21.809 16.8854 20.35 16.617 20.233C16.547 20.198 16.2903 20.338 16.1269 20.42C15.7185 20.63 15.1468 20.922 14.4817 20.7C13.8282 20.478 13.5132 19.907 13.3615 19.627C12.358 17.818 12.0313 13.092 13.0698 10.735C13.4198 9.95304 13.8866 9.48704 14.47 9.34704C15.0651 9.20604 15.5552 9.45204 15.9519 9.65004C16.2786 9.81304 16.442 9.88304 16.5353 9.82504C16.9437 9.58004 16.9321 8.07504 16.3487 6.88404C15.8469 5.83404 14.9834 5.22804 14.3417 4.90104C14.1316 4.79604 14.0383 4.52704 14.155 4.31704C14.26 4.10704 14.5284 4.01404 14.7384 4.13104C15.4968 4.51604 16.5237 5.23904 17.1304 6.51104C17.7372 7.77104 18.0289 9.94204 16.9788 10.583C16.4537 10.91 15.9403 10.653 15.5435 10.443C15.2401 10.292 14.9484 10.14 14.6684 10.21C14.2833 10.303 14.0149 10.747 13.8632 11.097C12.9531 13.15 13.2331 17.62 14.12 19.206C14.2716 19.475 14.4467 19.767 14.7617 19.872C15.0534 19.977 15.3335 19.848 15.7302 19.638C16.1153 19.44 16.547 19.218 17.0021 19.44C17.9822 19.907 17.9239 22.019 17.2238 23.524C16.6287 24.807 15.6019 25.531 14.8434 25.928C14.7967 25.963 14.7267 25.974 14.6567 25.974Z"
                      fill="#3D3D3C"
                    />
                    <path
                      d="M13.2801 11.529L5.39208 11.564C5.14708 11.564 4.94875 11.365 4.94875 11.132C4.94875 10.887 5.14708 10.689 5.38047 10.689L13.2684 10.654C13.5135 10.654 13.7118 10.852 13.7118 11.085C13.7235 11.33 13.5251 11.529 13.2801 11.529Z"
                      fill="#3D3D3C"
                    />
                    <path
                      d="M13.3148 19.417L5.42683 19.452C5.18183 19.452 4.9835 19.253 4.9835 19.02C4.9835 18.775 5.18183 18.577 5.41514 18.577L13.3031 18.542C13.5481 18.542 13.7465 18.74 13.7465 18.973C13.7465 19.207 13.5598 19.417 13.3148 19.417Z"
                      fill="#3D3D3C"
                    />
                    <path
                      d="M23.851 25.94C23.781 25.94 23.711 25.928 23.6527 25.893C22.8942 25.508 21.8674 24.784 21.2606 23.513C20.5372 22.019 20.4671 19.907 21.4473 19.429C21.9024 19.207 22.3341 19.429 22.7192 19.615C23.1159 19.814 23.396 19.942 23.6877 19.837C24.0144 19.72 24.2011 19.37 24.3178 19.16C25.1812 17.562 25.4263 13.092 24.5045 11.051C24.3411 10.7 24.0727 10.257 23.6877 10.175C23.4543 10.117 23.3026 9.88404 23.361 9.65004C23.4193 9.41704 23.6527 9.26504 23.886 9.32404C24.4695 9.46404 24.9479 9.91904 25.2979 10.7C26.3598 13.046 26.0681 17.772 25.0879 19.592C24.9362 19.872 24.6212 20.455 23.9794 20.677C23.3143 20.91 22.7425 20.619 22.3341 20.409C22.1708 20.327 21.9024 20.199 21.844 20.222C21.5757 20.35 21.424 21.809 22.0657 23.139C22.5675 24.189 23.431 24.796 24.0727 25.123C24.2828 25.228 24.3761 25.496 24.2594 25.706C24.1661 25.846 24.0144 25.94 23.851 25.94Z"
                      fill="#3D3D3C"
                    />
                    <path
                      d="M22.0311 9.74304C21.8444 9.74304 21.681 9.62704 21.611 9.44004C20.6658 6.62804 22.8479 4.44604 23.5597 4.08404C23.7697 3.96704 24.0381 4.06104 24.1547 4.27104C24.2714 4.48104 24.1781 4.74904 23.9681 4.86604C23.653 5.02904 21.646 6.76804 22.4511 9.16004C22.5328 9.39304 22.4045 9.63804 22.1711 9.72004C22.1244 9.73204 22.0777 9.74304 22.0311 9.74304Z"
                      fill="#3D3D3C"
                    />
                    <path
                      d="M32.9881 11.447L25.1001 11.482C24.8551 11.482 24.6567 11.284 24.6567 11.05C24.6567 10.805 24.8551 10.607 25.0885 10.607L32.9764 10.572C33.2215 10.572 33.4198 10.77 33.4198 11.004C33.4315 11.249 33.2331 11.447 32.9881 11.447Z"
                      fill="#3D3D3C"
                    />
                    <path
                      d="M33.0228 19.335L25.1348 19.37C24.8898 19.37 24.6914 19.172 24.6914 18.938C24.6914 18.693 24.8898 18.495 25.1231 18.495L33.0111 18.46C33.2561 18.46 33.4545 18.658 33.4545 18.891C33.4662 19.136 33.2678 19.335 33.0228 19.335Z"
                      fill="#3D3D3C"
                    />
                  </svg>
                </div>

                {/* NFC Waves Icon - dark gray */}
                <svg width="24" height="30" viewBox="0 0 24 30" fill="none">
                  <path
                    d="M12.227 5.751C16.93 11.664 16.93 19.35 12.227 25.263"
                    stroke="#868685"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                  <path
                    d="M17.157 1.75C23.787 10.082 23.787 20.918 17.157 29.25"
                    stroke="#868685"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                  <path
                    d="M7.056 8.336C10.513 12.668 10.513 18.319 7.056 22.65"
                    stroke="#868685"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                  <path
                    d="M1.871 11.925C3.599 14.097 3.599 16.916 1.871 19.089"
                    stroke="#868685"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                </svg>
              </div>

              <div className="mt-auto flex items-center justify-between">
                <p className="font-mono text-xl tracking-[0.2em] text-white">{displayCard.cardNumber}</p>
                {/* Network Logo - Dinamik */}
                {displayCard.network === "Mastercard" ? (
                  <svg width="50" height="30" viewBox="0 0 50 30" fill="none">
                    <circle cx="18" cy="15" r="12" fill="#EB001B" fillOpacity="0.9" />
                    <circle cx="32" cy="15" r="12" fill="#F79E1B" fillOpacity="0.9" />
                  </svg>
                ) : (
                  <svg width="50" height="30" viewBox="0 0 50 30" fill="none">
                    <rect width="50" height="30" fill="#1A1F71" rx="4" />
                  </svg>
                )}
              </div>
            </div>
          </div>

          {/* Light Card - Bottom/Front (overlapping) with Glassmorphism */}
          <div
            className="absolute bottom-0 left-2 right-2 z-20 rounded-2xl overflow-hidden h-[160px]"
            style={{
              background: "linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.1) 100%)",
              backdropFilter: "blur(5px)",
              border: "1px solid rgba(255, 255, 255, 0.3)",
              boxShadow: "0 4px 30px rgba(0, 0, 0, 0.1)",
            }}
          >
            <div className="p-5 h-full flex flex-col">
              <div className="flex items-center gap-2 text-sm">
                <span className="font-medium text-white">{displayCard.name}</span>
                <span className="text-[#5a5a5a]/50">|</span>
                <span className="text-white">{displayCard.bank}</span>
              </div>

              {/* Middle row - Chip and NFC */}
              <div className="flex items-center justify-between mt-2">
                {/* Chip Icon - Dark Gray */}
                <div className="w-[45px] h-[34px] rounded-md bg-[#B2AEA9]/70 flex items-center justify-center">
                  <svg width="34" height="26" viewBox="0 0 38 30" fill="none">
                    <path
                      d="M14.6567 25.974C14.4933 25.974 14.3417 25.893 14.26 25.741C14.1433 25.531 14.2366 25.262 14.4467 25.146C15.0768 24.819 15.9403 24.201 16.4303 23.15C17.0604 21.809 16.8854 20.35 16.617 20.233C16.547 20.198 16.2903 20.338 16.1269 20.42C15.7185 20.63 15.1468 20.922 14.4817 20.7C13.8282 20.478 13.5132 19.907 13.3615 19.627C12.358 17.818 12.0313 13.092 13.0698 10.735C13.4198 9.95304 13.8866 9.48704 14.47 9.34704C15.0651 9.20604 15.5552 9.45204 15.9519 9.65004C16.2786 9.81304 16.442 9.88304 16.5353 9.82504C16.9437 9.58004 16.9321 8.07504 16.3487 6.88404C15.8469 5.83404 14.9834 5.22804 14.3417 4.90104C14.1316 4.79604 14.0383 4.52704 14.155 4.31704C14.26 4.10704 14.5284 4.01404 14.7384 4.13104C15.4968 4.51604 16.5237 5.23904 17.1304 6.51104C17.7372 7.77104 18.0289 9.94204 16.9788 10.583C16.4537 10.91 15.9403 10.653 15.5435 10.443C15.2401 10.292 14.9484 10.14 14.6684 10.21C14.2833 10.303 14.0149 10.747 13.8632 11.097C12.9531 13.15 13.2331 17.62 14.12 19.206C14.2716 19.475 14.4467 19.767 14.7617 19.872C15.0534 19.977 15.3335 19.848 15.7302 19.638C16.1153 19.44 16.547 19.218 17.0021 19.44C17.9822 19.907 17.9239 22.019 17.2238 23.524C16.6287 24.807 15.6019 25.531 14.8434 25.928C14.7967 25.963 14.7267 25.974 14.6567 25.974Z"
                      fill="#5a5a5a"
                    />
                    <path
                      d="M13.2801 11.529L5.39208 11.564C5.14708 11.564 4.94875 11.365 4.94875 11.132C4.94875 10.887 5.14708 10.689 5.38047 10.689L13.2684 10.654C13.5135 10.654 13.7118 10.852 13.7118 11.085C13.7235 11.33 13.5251 11.529 13.2801 11.529Z"
                      fill="#5a5a5a"
                    />
                    <path
                      d="M13.3148 19.417L5.42683 19.452C5.18183 19.452 4.9835 19.253 4.9835 19.02C4.9835 18.775 5.18183 18.577 5.41514 18.577L13.3031 18.542C13.5481 18.542 13.7465 18.74 13.7465 18.973C13.7465 19.207 13.5598 19.417 13.3148 19.417Z"
                      fill="#5a5a5a"
                    />
                    <path
                      d="M23.851 25.94C23.781 25.94 23.711 25.928 23.6527 25.893C22.8942 25.508 21.8674 24.784 21.2606 23.513C20.5372 22.019 20.4671 19.907 21.4473 19.429C21.9024 19.207 22.3341 19.429 22.7192 19.615C23.1159 19.814 23.396 19.942 23.6877 19.837C24.0144 19.72 24.2011 19.37 24.3178 19.16C25.1812 17.562 25.4263 13.092 24.5045 11.051C24.3411 10.7 24.0727 10.257 23.6877 10.175C23.4543 10.117 23.3026 9.88404 23.361 9.65004C23.4193 9.41704 23.6527 9.26504 23.886 9.32404C24.4695 9.46404 24.9479 9.91904 25.2979 10.7C26.3598 13.046 26.0681 17.772 25.0879 19.592C24.9362 19.872 24.6212 20.455 23.9794 20.677C23.3143 20.91 22.7425 20.619 22.3341 20.409C22.1708 20.327 21.9024 20.199 21.844 20.222C21.5757 20.35 21.424 21.809 22.0657 23.139C22.5675 24.189 23.431 24.796 24.0727 25.123C24.2828 25.228 24.3761 25.496 24.2594 25.706C24.1661 25.846 24.0144 25.94 23.851 25.94Z"
                      fill="#5a5a5a"
                    />
                    <path
                      d="M22.0311 9.74304C21.8444 9.74304 21.681 9.62704 21.611 9.44004C20.6658 6.62804 22.8479 4.44604 23.5597 4.08404C23.7697 3.96704 24.0381 4.06104 24.1547 4.27104C24.2714 4.48104 24.1781 4.74904 23.9681 4.86604C23.653 5.02904 21.646 6.76804 22.4511 9.16004C22.5328 9.39304 22.4045 9.63804 22.1711 9.72004C22.1244 9.73204 22.0777 9.74304 22.0311 9.74304Z"
                      fill="#5a5a5a"
                    />
                    <path
                      d="M32.9881 11.447L25.1001 11.482C24.8551 11.482 24.6567 11.284 24.6567 11.05C24.6567 10.805 24.8551 10.607 25.0885 10.607L32.9764 10.572C33.2215 10.572 33.4198 10.77 33.4198 11.004C33.4315 11.249 33.2331 11.447 32.9881 11.447Z"
                      fill="#5a5a5a"
                    />
                    <path
                      d="M33.0228 19.335L25.1348 19.37C24.8898 19.37 24.6914 19.172 24.6914 18.938C24.6914 18.693 24.8898 18.495 25.1231 18.495L33.0111 18.46C33.2561 18.46 33.4545 18.658 33.4545 18.891C33.4662 19.136 33.2678 19.335 33.0228 19.335Z"
                      fill="#5a5a5a"
                    />
                  </svg>
                </div>

                {/* NFC Waves Icon - dark gray */}
                <svg width="24" height="30" viewBox="0 0 24 30" fill="none">
                  <path
                    d="M12.227 5.751C16.93 11.664 16.93 19.35 12.227 25.263"
                    stroke="#363B41"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                  <path
                    d="M17.157 1.75C23.787 10.082 23.787 20.918 17.157 29.25"
                    stroke="#363B41"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                  <path
                    d="M7.056 8.336C10.513 12.668 10.513 18.319 7.056 22.65"
                    stroke="#363B41"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                  <path
                    d="M1.871 11.925C3.599 14.097 3.599 16.916 1.871 19.089"
                    stroke="#363B41"
                    strokeWidth="2"
                    strokeLinecap="round"
                  />
                </svg>
              </div>

              {/* Bottom row - Card number, expiry, and Network Logo */}
              <div className="mt-auto flex items-end justify-between">
                <div>
                  <p className="font-mono text-lg font-bold tracking-[0.15em] text-[#1B212D]">
                    {displayCard.cardNumber.slice(-4).padStart(12, "*")}
                  </p>
                  <p className="text-sm text-[#929EAE]">
                    {String(displayCard.expiryMonth).padStart(2, "0")}/{displayCard.expiryYear.toString().slice(-2)}
                  </p>
                </div>
                {/* Network Logo - Visa vs Mastercard */}
                {displayCard.network === "Visa" ? (
                  <div className="bg-[#1A1F71] rounded px-2 py-1">
                    <svg width="40" height="14" viewBox="0 0 48 16" fill="none">
                      <path d="M17.9317 15.4189L20.3272 0.46875H24.1174L21.7211 15.4189H17.9317Z" fill="white" />
                      <path
                        d="M37.7832 0.829688C37.0387 0.543125 35.8687 0.234375 34.4274 0.234375C30.6818 0.234375 28.0371 2.17969 28.0201 4.96562C27.9863 7.01562 29.9047 8.15625 31.3289 8.84062C32.7871 9.54219 33.2827 9.99219 33.2827 10.6078C33.266 11.5453 32.1297 11.9859 31.0788 11.9859C29.6206 11.9859 28.8422 11.7656 27.6553 11.2484L27.1766 11.0109L26.6641 14.1641C27.5271 14.5547 29.1063 14.8969 30.7532 14.9141C34.7191 14.9141 37.3127 13.0031 37.3465 10.0172C37.3634 8.38125 36.3295 7.12969 34.1567 6.10156C32.8361 5.43438 32.0244 4.99219 32.0244 4.33281C32.0413 3.73125 32.6895 3.11406 34.1398 3.11406C35.3437 3.09688 36.2238 3.37188 36.9002 3.65781L37.2412 3.81094L37.7832 0.829688Z"
                        fill="white"
                      />
                      <path
                        d="M43.0859 0.46875C42.1719 0.46875 41.4613 0.768438 41.0503 1.70156L35.4531 15.4189H39.4189L40.1973 13.1906H44.9789L45.4238 15.4189H48.9998L45.8895 0.46875H43.0859ZM41.2199 10.2891C41.5273 9.4375 42.7988 6.00938 42.7988 6.00938C42.7819 6.04375 43.1059 5.15781 43.2949 4.60781L43.5512 5.87656C43.5512 5.87656 44.3129 9.41406 44.4849 10.2891H41.2199Z"
                        fill="white"
                      />
                      <path
                        d="M13.0254 0.46875L9.31348 10.6766L8.90254 8.59688C8.21598 6.16719 5.94824 3.52344 3.39355 2.2125L6.79785 15.4016H10.7975L17.0254 0.46875H13.0254Z"
                        fill="white"
                      />
                      <path
                        d="M6.05469 0.46875H0.0507812L0 0.751563C4.7123 1.88906 7.83203 4.74219 9.10352 8.25469L7.79883 1.71875C7.57617 0.8125 6.88281 0.503125 6.05469 0.46875Z"
                        fill="#FAA61A"
                      />
                    </svg>
                  </div>
                ) : (
                  <div className="bg-[#EB001B] rounded px-2 py-1 flex gap-0.5">
                    <div className="w-3 h-3 rounded-full bg-[#EB001B]" />
                    <div className="w-3 h-3 rounded-full bg-[#F79E1B]" />
                  </div>
                )}
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  )
}
